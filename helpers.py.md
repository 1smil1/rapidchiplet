# helpers.py 文件总结

## 功能概述
`helpers.py` 是核心工具函数库，提供整个RapidChiplet框架所需的基础功能，包括JSON处理、数据编码转换、芯片操作等通用工具。

## 主要功能

### 数据类型检查
- **`is_float()`**: 检查字符串是否可以转换为浮点数
- 用途：参数验证和数据类型检查
- 安全的异常处理机制

### JSON编码/解码系统

#### 元组编码支持
- **`encode_key()`**: 将元组键转换为JSON兼容格式
- **`decode_key()`**: 将编码的键还原为原始格式
- **`encode_data()`**: 递归编码数据结构中的元组
- **`decode_data()`**: 递归解码数据结构

#### 编码格式
元组被编码为：`'__tuple__:[encoded_elements]'`
- 支持嵌套元组的编码
- 保持数据结构的完整性
- JSON标准的完全兼容

### JSON文件操作
- **`write_json()`**: 写入JSON文件，自动编码元组
- **`read_json()`**: 读取JSON文件，自动解码元组
- 格式化输出（4空格缩进）
- 异常处理和错误报告

### 芯片操作工具

#### 芯片旋转
- **`rotate_chiplet()`**: 旋转芯片配置
- 支持标准角度旋转（0°, 90°, 180°, 270°）
- 自动调整芯片尺寸和PHY位置
- 保持PHY ID的对应关系

#### 坐标变换
- 二维坐标的旋转变换
- 芯片边界自动调整
- PHY位置的重新计算

### 输入文件管理
- **`read_required_inputs()`**: 按需读取输入文件
- 避免重复加载相同文件
- 统一的输入文件管理接口
- 缓存机制提高性能

### 数学和计算工具
- 基础数学函数封装
- 几何计算辅助函数
- 统计分析工具

### 数据验证
- 输入参数的合理性检查
- 数据格式验证
- 错误信息的标准化输出

## 设计特点

### 模块化架构
- 功能分类清晰
- 函数职责单一
- 易于维护和扩展

### 错误处理
- 完善的异常处理机制
- 用户友好的错误信息
- 优雅的错误恢复

### 性能优化
- 文件缓存机制
- 高效的数据编码
- 最小化重复计算

## 使用场景

### 数据持久化
- 复杂数据结构的JSON存储
- 配置文件的读写操作
- 结果数据的保存和加载

### 芯片设计
- 芯片配置的几何变换
- 坐标系统的转换
- 布局调整和优化

### 系统集成
- 模块间的数据交换
- 配置参数的传递
- 结果数据的处理

## 依赖关系
- **内部模块**: 被几乎所有其他模块使用
- **外部库**: `json`, `copy`, `math`
- **系统依赖**: 标准Python库

## 代码质量
- 清晰的函数文档
- 一致的命名规范
- 完善的错误处理
- 高度的可重用性

## 扩展性
- 支持新的数据类型编码
- 可添加更多的芯片操作函数
- 灵活的配置管理系统
- 易于集成新功能