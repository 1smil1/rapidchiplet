# inputs 目录总结

## 功能概述
`inputs/` 目录是RapidChiplet框架的输入配置中心，包含了所有设计配置文件、示例配置和输入模板，为用户提供完整的配置参考和起点。

## 目录结构

### booksim_configs/
**BookSim仿真配置文件目录**
- **功能**: 存储BookSim2仿真器的配置参数
- **内容**:
  - `example_booksim_config.json`: 基础BookSim配置示例
  - `booksim_config_example_experiment.json`: 实验用BookSim配置
- **配置参数**: 网络参数、流量设置、仿真控制等
- **用途**: BookSim2周期精确仿真的参数控制

### chiplets/
**芯片配置文件目录**
- **功能**: 存储不同类型芯片的详细配置
- **配置内容**:
  - 芯片尺寸（长、宽）
  - 功耗参数（基础功耗、PHY功耗）
  - PHY位置和编号
  - 芯片类型（计算、内存、I/O）
  - 单元数量和内部延迟
- **用途**: 定义芯片的物理和电气特性

### designs/
**主设计文件目录**
- **功能**: 存储完整的设计配置文件
- **文件结构**: 每个文件引用其他配置文件组成完整设计
- **包含内容**:
  - 芯片配置文件引用
  - 布局配置文件引用
  - 拓扑配置文件引用
  - 路由表配置引用
  - 技术和封装配置引用
- **示例**: `design_example_experiment.json`

### packagings/
**封装配置文件目录**
- **功能**: 存储封装技术和互连参数
- **配置内容**:
  - 互连路由方式（曼哈顿、欧几里得）
  - 链路延迟模型
  - 链路带宽参数
  - 互连路由器延迟
  - 物理层参数
- **用途**: 定义芯片间互连的物理特性

### placements/
**布局配置文件目录**
- **功能**: 存储芯片的物理布局配置
- **配置内容**:
  - 芯片位置坐标
  - 芯片旋转角度
  - 芯片引用关系
  - 互连路由器位置
- **布局类型**:
  - 网格布局（Grid）
  - 六边形布局（Hexagonal）
  - 树形布局（Tree）
- **用途**: 定义芯片在封装上的物理排列

### routing_tables/
**路由表文件目录**
- **功能**: 存储预计算的网络路由表
- **路由算法**:
  - SPLIF（最短路径最低ID优先）
  - SPTMR（最短路径转弯模型随机）
- **数据结构**: 每个节点到所有目标节点的下一跳信息
- **用途**: 为网络通信提供路由指导

### technologies/
**工艺技术配置文件目录**
- **功能**: 存储不同工艺节点的技术参数
- **技术参数**:
  - 工艺节点名称
  - 功耗密度
  - 面积缩放因子
  - 电气特性
  - 制造成本参数
- **用途**: 定义芯片制造的工艺特性

### topologies/
**网络拓扑配置文件目录**
- **功能**: 存储网络拓扑连接配置
- **拓扑类型**:
  - Mesh（网格）
  - Torus（环形）
  - Flattened Butterfly（扁平蝶形）
  - Tree（树形）
  - Hexagonal Mesh（六边形网格）
- **连接定义**: 链路端点、连接类型、颜色标记
- **用途**: 定义芯片间的网络连接关系

### traces/
**网络轨迹文件目录**
- **功能**: 存储真实应用的通信轨迹
- **轨迹来源**: 从Netrace格式转换而来
- **数据格式**: RapidChiplet内部格式
- **内容**: 数据包的时间戳、源目标、大小等信息
- **用途**: 支持真实应用的性能仿真

### traffic_by_chiplet/
**芯片级流量配置目录**
- **功能**: 存储以芯片为单位的流量模式
- **流量类型**:
  - 随机均匀流量
  - 转置流量
  - 置换流量
  - 热点流量
- **数据格式**: 芯片到芯片的流量矩阵
- **用途**: 芯片间通信模式建模

### traffic_by_unit/
**单元级流量配置目录**
- **功能**: 存储以计算单元为单位的流量模式
- **粒度**: 比芯片级流量更细的粒度
- **数据格式**: 单元到单元的流量矩阵
- **用途**: 更详细的通信模式分析

### trace_to_traffic.py
**轨迹转换脚本**
- **功能**: 将网络轨迹转换为流量模式
- **转换过程**: 时间窗口聚合、统计处理
- **输出格式**: 标准流量配置格式
- **用途**: 支持真实应用的流量分析

## 配置文件特点

### 模块化设计
- **分离原则**: 不同类型配置分离存储
- **引用关系**: 通过引用组合完整设计
- **复用性**: 配置文件可在多个设计中复用
- **维护性**: 便于独立修改和维护

### 标准化格式
- **JSON格式**: 统一使用JSON格式
- **命名规范**: 一致的文件命名规范
- **结构统一**: 标准化的数据结构
- **文档完整**: 包含配置说明和示例

### 层次化组织
- **基础配置**: 芯片、技术等基础组件
- **组合配置**: 布局、拓扑等组合配置
- **完整设计**: 引用所有组件的主配置
- **应用配置**: 流量、轨迹等应用配置

## 使用方式

### 配置创建
1. **定义芯片**: 在chiplets/中创建芯片配置
2. **选择技术**: 在technologies/中选择工艺
3. **设计布局**: 在placements/中创建布局
4. **定义拓扑**: 在topologies/中定义网络
5. **组合设计**: 在designs/中创建主设计文件

### 配置修改
- **局部修改**: 只修改相关配置文件
- **影响评估**: 理解修改对整体设计的影响
- **版本管理**: 使用版本控制管理配置变更
- **测试验证**: 修改后进行完整测试

### 配置共享
- **团队协作**: 通过配置文件共享设计
- **标准化**: 建立团队配置标准
- **模板创建**: 创建常用配置模板
- **最佳实践**: 总结配置最佳实践

## 扩展性

### 新配置类型
- **目录添加**: 支持添加新的配置类型目录
- **格式定义**: 定义新的配置文件格式
- **工具支持**: 为新配置类型创建支持工具
- **文档更新**: 更新相关文档和说明

### 配置演进
- **版本升级**: 支持配置格式的版本升级
- **向后兼容**: 保持对旧版本配置的兼容
- **迁移工具**: 提供配置格式迁移工具
- **验证机制**: 配置格式的一致性验证

## 质量保证

### 配置验证
- **语法检查**: JSON格式的语法验证
- **语义检查**: 配置内容的合理性验证
- **完整性检查**: 必要字段和引用的完整性
- **一致性检查**: 相关配置间的一致性

### 示例和文档
- **完整示例**: 提供各种配置的完整示例
- **使用说明**: 详细的配置参数说明
- **最佳实践**: 配置设计的最佳实践指导
- **故障排除**: 常见配置问题的解决方案