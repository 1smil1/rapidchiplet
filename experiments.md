# experiments 目录总结

## 功能概述
`experiments/` 目录是自动化实验配置中心，包含了各种评估实验、案例研究和性能基准测试的配置文件，支持大规模的设计空间探索和性能评估。

## 目录文件

### case_study.json
**案例研究实验配置**
- **目标**: 进行特定的案例研究分析
- **研究重点**: 网络配置的系统性研究
- **参数设置**:
  - `shg_sr`: 行方向的选择组合
  - `shg_sc`: 列方向的选择组合
  - 网格规模和拓扑配置
- **应用场景**: 学术论文中的案例研究部分

### evaluation_booksim.json
**BookSim仿真评估配置**
- **目标**: 使用BookSim进行周期精确仿真评估
- **仿真参数**:
  - 多种负载点扫描
  - 详细的性能指标收集
  - 网络配置参数
- **性能指标**: 延迟、吞吐量、拥塞分析
- **输出用途**: 论文中的性能对比图表

### evaluation_latency.json
**延迟性能评估配置**
- **目标**: 评估不同配置下的延迟性能
- **变量参数**:
  - 网络规模（4x4, 8x8, 16x16）
  - 拓扑类型
  - 路由算法
  - 流量模式
- **分析方法**: RapidChiplet快速延迟分析
- **应用场景**: 延迟性能的系统性评估

### evaluation_links.json
**链路性能评估配置**
- **目标**: 评估网络链路的性能特征
- **评估指标**:
  - 链路利用率
  - 带宽分布
  - 链路长度统计
  - 关键链路识别
- **分析重点**: 网络瓶颈和链路优化

### evaluation_throughput.json
**吞吐量性能评估配置**
- **目标**: 评估网络吞吐量性能
- **性能指标**:
  - 聚合吞吐量
  - 单节点吞吐量
  - 吞吐量分布
  - 饱和吞吐量
- **变量参数**: 与延迟评估类似的参数空间

### example_experiment.json
**示例实验配置**
- **目标**: 提供实验配置的完整示例
- **教学用途**: 帮助用户理解实验配置方法
- **配置结构**:
  ```json
  {
    "exp_name": "example_experiment",
    "metrics": ["area_summary", "power_summary", "link_summary", "cost", "latency", "throughput", "booksim_simulation"],
    "grid_scale": ["4x4", "8x8", "16x16"],
    "topology": ["torus"],
    "traffic_pattern": ["random_uniform"],
    // ... 其他参数
  }
  ```

## 实验配置结构

### 基础配置字段
- **exp_name**: 实验名称标识
- **metrics**: 要计算的性能指标列表
- **参数列表**: 各种设计参数的可选值

### 性能指标类型
- **area_summary**: 面积分析汇总
- **power_summary**: 功耗分析汇总
- **link_summary**: 链路性能汇总
- **cost**: 制造成本分析
- **latency**: 网络延迟分析
- **throughput**: 吞吐量性能分析
- **booksim_simulation**: BookSim周期精确仿真

### 参数配置类别

#### 网络参数
- **grid_scale**: 网格规模（如"4x4", "8x8"）
- **topology**: 网络拓扑类型
- **routing_algorithm**: 路由算法选择
- **chiplets_can_relay**: 芯片中继能力

#### 芯片参数
- **units_per_chiplet**: 每芯片单元数
- **base_chiplet_area**: 基础芯片面积
- **phy_area**: PHY面积
- **base_chiplet_power**: 基础芯片功耗
- **phy_power**: PHY功耗

#### 工艺参数
- **technology**: 工艺技术选择
- **chiplet_spacing**: 芯片间距
- **fraction_power_bumps**: 功耗凸点比例

#### 流量参数
- **mode**: 仿真模式（traffic/trace）
- **traffic_pattern**: 流量模式类型
- **trace**: 轨迹文件列表
- **n_hotspot**: 热点数量（热点流量）
- **p_hotspot**: 热点概率（热点流量）

#### 控制参数
- **do_validate**: 是否执行验证
- **use_memory**: 是否使用内存芯片

## 实验设计特点

### 参数空间探索
- **多维参数**: 支持多个参数同时变化
- **组合爆炸**: 自动处理大量参数组合
- **智能采样**: 支持参数空间的智能采样
- **实验控制**: 灵活的实验范围控制

### 性能对比
- **基准建立**: 建立性能基准线
- **配置对比**: 不同配置的性能对比
- **趋势分析**: 参数变化对性能的影响趋势
- **优化指导**: 提供设计优化的指导

### 可重现性
- **配置完整**: 所有参数都明确指定
- **结果一致**: 相同配置产生一致结果
- **版本控制**: 支持配置版本管理
- **共享便利**: 配置文件易于共享

## 使用场景

### 学术研究
- **论文数据**: 为学术论文提供实验数据
- **方法验证**: 验证新方法的有效性
- **对比分析**: 与现有方法的对比分析
- **趋势研究**: 研究技术发展趋势

### 工程评估
- **设计选择**: 辅助工程设计决策
- **性能预测**: 预测设计性能表现
- **风险评估**: 识别设计风险点
- **优化建议**: 提供优化改进建议

### 教学演示
- **概念演示**: 演示网络概念和原理
- **工具教学**: 教学工具的使用方法
- **案例研究**: 具体的研究案例分析
- **实验设计**: 实验设计的方法教学

## 实验执行

### 执行命令
```bash
python3 run_experiment.py -e experiments/<experiment_file>
```

### 执行流程
1. **参数解析**: 解析实验配置参数
2. **组合生成**: 生成所有参数组合
3. **输入创建**: 为每个组合创建输入文件
4. **分析执行**: 运行RapidChiplet分析
5. **结果收集**: 收集和整理实验结果

### 结果组织
- **文件命名**: 基于参数组合的命名
- **目录结构**: 按实验类型组织结果
- **格式统一**: 统一的结果文件格式
- **元数据**: 包含实验配置元信息

## 扩展性

### 新实验类型
- **配置模板**: 提供新实验类型的配置模板
- **参数定义**: 定义新的实验参数
- **指标添加**: 支持新的性能指标
- **分析扩展**: 扩展分析能力

### 实验管理
- **批量实验**: 支持批量实验管理
- **实验队列**: 实验执行队列管理
- **资源调度**: 计算资源的智能调度
- **进度监控**: 实验进度的实时监控

## 质量保证

### 配置验证
- **语法检查**: JSON格式的语法验证
- **参数验证**: 参数范围的合理性检查
- **依赖检查**: 参数间依赖关系的检查
- **完整性**: 配置完整性的验证

### 结果验证
- **一致性**: 结果一致性检查
- **合理性**: 结果合理性的验证
- **完整性**: 结果完整性的确认
- **可重现性**: 结果可重现性的验证

## 最佳实践

### 实验设计
- **目标明确**: 明确实验目标和假设
- **参数合理**: 选择合理的参数范围
- **样本充分**: 确保实验样本的充分性
- **控制变量**: 合理控制实验变量

### 配置管理
- **版本控制**: 使用版本控制管理配置
- **文档完整**: 保持配置文档的完整性
- **命名规范**: 遵循统一的命名规范
- **备份策略**: 建立配置备份策略