# RapidChiplet 4-Chipleté€šä¿¡åˆ†ææµ‹è¯•

## ğŸ¯ æµ‹è¯•ç›®æ ‡

æœ¬æµ‹è¯•æ—¨åœ¨åˆ†æ4ä¸ªchipletä¹‹é—´çš„é€šä¿¡å»¶è¿Ÿå’Œèƒ½è€—ï¼Œå…·ä½“åœºæ™¯ï¼š
- **chiplet1 â†’ chiplet3**: æ•°æ®ä¼ è¾“é‡ 10GB/s
- **chiplet2 â†’ chiplet4**: æ•°æ®ä¼ è¾“é‡ 5GB/s
- **è€ƒè™‘å› ç´ **: hopsæ•°ã€æ‹¥å¡ã€ç‰©ç†è·ç¦»

## ğŸ“‹ æµ‹è¯•é…ç½®

### èŠ¯ç‰‡é…ç½®
- **èŠ¯ç‰‡å°ºå¯¸**: 10mm Ã— 10mm
- **èŠ¯ç‰‡ç±»å‹**:
  - chiplet1, 2: è®¡ç®—èŠ¯ç‰‡
  - chiplet3, 4: å†…å­˜èŠ¯ç‰‡
- **PHYé…ç½®**: æ¯ä¸ªèŠ¯ç‰‡4ä¸ªPHYï¼ˆä¸œè¥¿å—åŒ—ï¼‰

### ç‰©ç†å¸ƒå±€
```
  (0,15)     chiplet3     (15,15)
  [å†…å­˜]                   [å†…å­˜]

  (0,0)      chiplet1     (15,0)
  [è®¡ç®—]                   [è®¡ç®—]
```

### ç½‘ç»œæ‹“æ‰‘
- **ç±»å‹**: Meshç½‘ç»œ
- **è¿æ¥**: ç›¸é‚»chipletäº’è¿ï¼Œå½¢æˆ2Ã—2ç½‘æ ¼
- **è·¯ç”±**: SPLIFç®—æ³•ï¼ˆæœ€çŸ­è·¯å¾„æœ€ä½IDä¼˜å…ˆï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# ç¡®ä¿Pythonç¯å¢ƒå°±ç»ª
python3 --version

# ç¡®ä¿ä¾èµ–å·²å®‰è£…
pip install -r requirements.txt

# ç¼–è¯‘BookSim2ï¼ˆå¦‚éœ€ç²¾ç¡®ä»¿çœŸï¼‰
cd booksim2/src
make
cd ../../
```

### 2. è¿è¡Œæµ‹è¯•

#### æ–¹å¼ä¸€ï¼šè¿è¡Œå®Œæ•´æµ‹è¯•ï¼ˆæ¨èï¼‰
```bash
python3 run_test.py
```

#### æ–¹å¼äºŒï¼šåªè¿è¡Œå¿«é€Ÿåˆ†æ
```bash
python3 run_test.py --quick
```

#### æ–¹å¼ä¸‰ï¼šåªè¿è¡Œç²¾ç¡®ä»¿çœŸ
```bash
python3 run_test.py --precise
```

#### æ–¹å¼å››ï¼šåªç”Ÿæˆå¯è§†åŒ–
```bash
python3 run_test.py --visualize
```

### 3. åˆ†æç»“æœ
```bash
python3 analyze_results.py
```

## ğŸ“ æ–‡ä»¶ç»“æ„

### è¾“å…¥é…ç½®æ–‡ä»¶
```
inputs/
â”œâ”€â”€ chiplets/test_chiplets.json      # èŠ¯ç‰‡é…ç½®
â”œâ”€â”€ placements/test_placement.json   # ç‰©ç†å¸ƒå±€
â”œâ”€â”€ topologies/test_topology.json    # ç½‘ç»œæ‹“æ‰‘
â”œâ”€â”€ traffic_by_unit/test_traffic.json # é€šä¿¡æ¨¡å¼
â”œâ”€â”€ routing_tables/test_routing.json # è·¯ç”±è¡¨
â”œâ”€â”€ technologies/test_technology.json # å·¥è‰ºå‚æ•°
â”œâ”€â”€ packagings/test_packaging.json   # å°è£…å‚æ•°
â”œâ”€â”€ booksim_configs/test_booksim_config.json # BookSimé…ç½®
â””â”€â”€ designs/test_design.json         # ä¸»è®¾è®¡æ–‡ä»¶
```

### è¾“å‡ºç»“æœæ–‡ä»¶
```
results/
â”œâ”€â”€ test_results_quick.json           # å¿«é€Ÿåˆ†æç»“æœ
â”œâ”€â”€ test_results_precise.json         # ç²¾ç¡®ä»¿çœŸç»“æœ
â”œâ”€â”€ test_summary_report.json          # æ€»ç»“æŠ¥å‘Š
â””â”€â”€ test_analysis_plots.png          # åˆ†æå›¾è¡¨

images/
â””â”€â”€ test_design.pdf                  # èŠ¯ç‰‡è®¾è®¡å¯è§†åŒ–
```

## ğŸ“Š é¢„æœŸç»“æœ

### å»¶è¿Ÿåˆ†æ
- **chiplet1â†’chiplet3**: çº¦15-25 cycles
- **chiplet2â†’chiplet4**: çº¦15-25 cycles
- **å½±å“å› ç´ **:
  - è·ç¦»: chipleté—´è·çº¦15-21mm
  - Hops: å¯èƒ½1-2 hops
  - æ‹¥å¡: è€ƒè™‘åŒæ—¶é€šä¿¡çš„å¹²æ‰°

### èƒ½è€—åˆ†æ
- **æ€»åŠŸè€—**: é¢„è®¡20-30W
- **é€šä¿¡èƒ½è€—**: åŸºäºè·ç¦»å’Œæ•°æ®é‡
- **è®¡ç®—èƒ½è€—**: èŠ¯ç‰‡åŸºç¡€åŠŸè€—
- **åŠ¨æ€vsé™æ€**: åŠ¨æ€åŠŸè€—å æ¯”ä¸»è¦éƒ¨åˆ†

### ååé‡åˆ†æ
- **ç†è®ºæ€»ååé‡**: 15GB/s
- **å®é™…ååé‡**: å¯èƒ½ä½äºç†è®ºå€¼ï¼ˆå—ç½‘ç»œé™åˆ¶ï¼‰
- **æ•ˆç‡**: é¢„è®¡80-95%

## ğŸ” ç»“æœè§£è¯»

### å¿«é€Ÿåˆ†æï¼ˆæ–¹æ¡ˆAï¼‰
- **é€Ÿåº¦**: å¿«ï¼ˆç§’çº§ï¼‰
- **ç²¾åº¦**: ä¸­ç­‰
- **é€‚ç”¨**: è®¾è®¡ç©ºé—´æ¢ç´¢ã€åˆæ­¥è¯„ä¼°

### ç²¾ç¡®ä»¿çœŸï¼ˆæ–¹æ¡ˆBï¼‰
- **é€Ÿåº¦**: æ…¢ï¼ˆåˆ†é’Ÿçº§ï¼‰
- **ç²¾åº¦**: é«˜
- **é€‚ç”¨**: æœ€ç»ˆéªŒè¯ã€ç²¾ç¡®åˆ†æ

### å…³é”®æŒ‡æ ‡
1. **å¹³å‡å»¶è¿Ÿ**: åæ˜ ç½‘ç»œæ•´ä½“æ€§èƒ½
2. **æœ€å¤§å»¶è¿Ÿ**: åæ˜ æœ€åæƒ…å†µ
3. **åŠŸè€—æ•ˆç‡**: GB/s per W
4. **ååé‡æ•ˆç‡**: å®é™…vsç†è®ºæ¯”ä¾‹

## ğŸ› ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹é€šä¿¡æ¨¡å¼
ç¼–è¾‘ `inputs/traffic_by_unit/test_traffic.json`:
```json
{
  "(0, 0)-(2, 0)": 0.15625,  // chiplet1å•å…ƒ0åˆ°chiplet3å•å…ƒ0
  // è°ƒæ•´è¿™äº›å€¼æ¥æ”¹å˜æ•°æ®é‡
}
```

### ä¿®æ”¹ç‰©ç†å¸ƒå±€
ç¼–è¾‘ `inputs/placements/test_placement.json`:
```json
{
  "chiplets": [
    {
      "position": {"x": 0, "y": 0},     // è°ƒæ•´ä½ç½®
      "name": "compute_chiplet"
    }
  ]
}
```

### ä¿®æ”¹ç½‘ç»œæ‹“æ‰‘
ç¼–è¾‘ `inputs/topologies/test_topology.json`:
```json
[
  {
    "ep1": {"type": "chiplet", "outer_id": 0, "inner_id": 2},
    "ep2": {"type": "chiplet", "outer_id": 1, "inner_id": 0}
    // æ·»åŠ æˆ–ä¿®æ”¹é“¾è·¯
  }
]
```

## ğŸ¨ å¯è§†åŒ–

### èŠ¯ç‰‡è®¾è®¡å›¾
è¿è¡Œåä¼šç”Ÿæˆ `images/test_design.pdf`ï¼Œæ˜¾ç¤ºï¼š
- èŠ¯ç‰‡ç‰©ç†å¸ƒå±€
- ç½‘ç»œè¿æ¥å…³ç³»
- èŠ¯ç‰‡ç±»å‹æ ‡è¯†

### æ€§èƒ½å›¾è¡¨
è¿è¡Œ `analyze_results.py` åä¼šç”Ÿæˆï¼š
- å»¶è¿Ÿå¯¹æ¯”å›¾
- åŠŸè€—åˆ†å¸ƒå›¾
- ååé‡åˆ†æå›¾
- BookSimå»¶è¿Ÿæ›²çº¿

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ¨¡å—å¯¼å…¥é”™è¯¯
```bash
# ç¡®ä¿åœ¨æ­£ç¡®ç›®å½•
cd D:\python_prj\rapidchiplet\rapidchiplet
python3 run_test.py
```

#### 2. BookSimä»¿çœŸå¤±è´¥
```bash
# æ£€æŸ¥BookSimæ˜¯å¦ç¼–è¯‘
cd booksim2/src
ls -la booksim
```

#### 3. ç»“æœæ–‡ä»¶ä¸ºç©º
- æ£€æŸ¥è¾“å…¥æ–‡ä»¶æ ¼å¼
- ç¡®è®¤è®¾è®¡æ–‡ä»¶è·¯å¾„æ­£ç¡®
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

#### 4. å¯è§†åŒ–ç”Ÿæˆå¤±è´¥
```bash
# å®‰è£…matplotlibä¸­æ–‡æ”¯æŒ
pip install matplotlib
```

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è¯¦ç»†è¾“å‡º
python3 run_test.py --all
```

## ğŸ“ˆ æ‰©å±•åˆ†æ

### å¢åŠ æ›´å¤šé€šä¿¡æ¨¡å¼
åœ¨æµé‡æ–‡ä»¶ä¸­æ·»åŠ æ›´å¤šé€šä¿¡å¯¹ï¼š
```json
{
  "(0, 0)-(2, 0)": 0.15625,
  "(0, 0)-(3, 0)": 0.078125,  // æ–°å¢é€šä¿¡
  "(1, 0)-(2, 1)": 0.0390625   // æ–°å¢é€šä¿¡
}
```

### ä¿®æ”¹ç½‘ç»œå‚æ•°
ç¼–è¾‘ `inputs/packagings/test_packaging.json`:
```json
{
  "link_bandwidth": 200,  // å¢åŠ å¸¦å®½
  "link_latency": "lambda length: 0.05*length + 1"  // å‡å°‘å»¶è¿Ÿ
}
```

### æ·»åŠ æ›´å¤šchiplet
1. åœ¨placementä¸­æ·»åŠ æ–°chiplet
2. åœ¨topologyä¸­æ·»åŠ è¿æ¥
3. åœ¨trafficä¸­æ·»åŠ é€šä¿¡æ¨¡å¼
4. é‡æ–°ç”Ÿæˆè·¯ç”±è¡¨

## ğŸ“ å­¦ä¹ ç›®æ ‡

é€šè¿‡è¿™ä¸ªæµ‹è¯•ï¼Œä½ å°†å­¦åˆ°ï¼š
1. **RapidChipletåŸºæœ¬ä½¿ç”¨**: é…ç½®ã€è¿è¡Œã€åˆ†æ
2. **èŠ¯ç‰‡é—´é€šä¿¡å»ºæ¨¡**: å¦‚ä½•æè¿°å®é™…é€šä¿¡åœºæ™¯
3. **æ€§èƒ½åˆ†ææŠ€å·§**: å»¶è¿Ÿã€åŠŸè€—ã€ååé‡åˆ†æ
4. **ç»“æœè§£è¯»**: ç†è§£å„ç§æ€§èƒ½æŒ‡æ ‡çš„å«ä¹‰
5. **å‚æ•°è°ƒä¼˜**: å¦‚ä½•é€šè¿‡ä¿®æ”¹é…ç½®ä¼˜åŒ–æ€§èƒ½

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
2. æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼
3. å‚è€ƒå®˜æ–¹æ–‡æ¡£
4. å°è¯•ç®€åŒ–é…ç½®é€æ­¥è°ƒè¯•

## ğŸ”„ ç‰ˆæœ¬å†å²

- **v1.0**: åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒ4-chipletåŸºç¡€åˆ†æ
- **v1.1**: æ·»åŠ ç»“æœå¯è§†åŒ–å’Œæ·±åº¦åˆ†æ
- **v1.2**: æ”¹è¿›é”™è¯¯å¤„ç†å’Œç”¨æˆ·ç•Œé¢